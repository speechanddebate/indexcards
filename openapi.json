{
  "openapi": "3.0.2",
  "servers": [
    {
      "url": "/v1"
    }
  ],
  "info": {
    "title": "IndexCards API",
    "version": "1.0.0",
    "description": "Tabroom.com data & operational API",
    "license": {
      "name": "Copyright 2014-2021, National Speech & Debate Assocation"
    }
  },
  "security": [
    {
      "basic": []
    }
  ],
  "paths": {
    "/admin/servers/show": {
      "get": {
        "summary": "List tournaments",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Problem": {
        "type": "object",
        "additionalProperties": true,
        "required": [
          "type",
          "title",
          "status"
        ],
        "properties": {
          "type": {
            "type": "string",
            "format": "uri",
            "description": "A URI reference that identifies the problem type.",
            "example": "https://api.example.com/errors/unauthorized"
          },
          "title": {
            "type": "string",
            "description": "A short, human-readable summary of the problem type.",
            "example": "Unauthorized"
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "description": "The HTTP status code.",
            "example": 401
          },
          "detail": {
            "type": "string",
            "description": "Human-readable explanation of the error.",
            "example": "The provided API key is invalid."
          },
          "instance": {
            "type": "string",
            "format": "uri",
            "description": "A URI reference to the specific occurrence.",
            "example": "/v1/users/123"
          }
        }
      },
      "Person": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "first": {
            "type": "string",
            "nullable": true
          },
          "middle": {
            "type": "string",
            "nullable": true
          },
          "last": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "country": {
            "type": "string",
            "nullable": true
          },
          "tz": {
            "type": "string",
            "nullable": true
          },
          "nsda": {
            "type": "integer",
            "nullable": true
          },
          "phone": {
            "type": "integer",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "pronoun": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": false
          },
          "no_email": {
            "type": "boolean"
          },
          "site_admin": {
            "type": "boolean",
            "nullable": true
          },
          "accesess": {
            "type": "integer",
            "nullable": true
          },
          "last_access": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          },
          "pass_timstamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "Session": {
        "type": "object",
        "properties": {
          "person_id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "defaults": {
            "type": "object"
          },
          "last_access": {}
        }
      },
      "School": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "onsite": {
            "type": "boolean"
          },
          "tourn": {
            "type": "integer",
            "nullable": true
          },
          "chapter": {
            "type": "integer",
            "nullable": true
          },
          "region": {
            "type": "integer",
            "nullable": true
          },
          "district": {
            "type": "integer",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "SchoolSetting": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "school": {
            "type": "integer"
          },
          "tag": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "string",
            "nullable": true
          },
          "value_date": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          },
          "value_text": {
            "type": "boolean"
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "Chapter": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "street": {
            "type": "string",
            "nullable": true
          },
          "city": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "zip": {
            "type": "integer",
            "nullable": true
          },
          "postal": {
            "type": "string",
            "nullable": true
          },
          "country": {
            "type": "string",
            "nullable": true
          },
          "coaches": {
            "type": "string",
            "nullable": true
          },
          "self_prefs": {
            "type": "boolean"
          },
          "level": {
            "type": "string",
            "nullable": true
          },
          "nsda": {
            "type": "integer",
            "nullable": true
          },
          "district": {
            "type": "integer",
            "nullable": true
          },
          "naudl": {
            "type": "boolean"
          },
          "ipeds": {
            "type": "string",
            "nullable": true
          },
          "nces": {
            "type": "string",
            "nullable": true
          },
          "ceeb": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "Event": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "abbr": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": false,
            "enum": [
              "speech",
              "congress",
              "debate",
              "wudc",
              "wsdc"
            ]
          },
          "level": {
            "type": "string",
            "nullable": false,
            "enum": [
              "open",
              "jv",
              "novice",
              "champ",
              "es-open",
              "es-novice",
              "middle"
            ]
          },
          "fee": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "tourn": {
            "type": "integer",
            "nullable": true
          },
          "category": {
            "type": "integer",
            "nullable": true
          },
          "pattern": {
            "type": "integer",
            "nullable": true
          },
          "rating_subset": {
            "type": "integer",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "Round": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "Student": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "first": {
            "type": "string",
            "nullable": true
          },
          "middle": {
            "type": "string",
            "nullable": true
          },
          "last": {
            "type": "string",
            "nullable": true
          },
          "phonetic": {
            "type": "string",
            "nullable": true
          },
          "grad_year": {
            "type": "integer",
            "nullable": true
          },
          "novice": {
            "type": "boolean"
          },
          "retired": {
            "type": "boolean"
          },
          "gender": {
            "type": "string",
            "nullable": true
          },
          "diet": {
            "type": "string",
            "nullable": true
          },
          "birthdate": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          },
          "school_sid": {
            "type": "string",
            "nullable": true
          },
          "race": {
            "type": "string",
            "nullable": true
          },
          "nsda": {
            "type": "integer",
            "nullable": true
          },
          "chapter": {
            "type": "integer",
            "nullable": true
          },
          "person": {
            "type": "integer",
            "nullable": true
          },
          "person_request": {
            "type": "integer",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true,
            "pattern": "^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$"
          }
        }
      },
      "CaselistLink": {
        "type": "object",
        "properties": {
          "person_id": {
            "type": "integer"
          },
          "slug": {
            "type": "string",
            "nullable": true
          },
          "caselist_key": {
            "type": "string",
            "nullable": true
          },
          "eventcode": {
            "type": "integer",
            "nullable": true
          }
        }
      },
      "Share": {
        "type": "object",
        "properties": {
          "panels": {
            "type": "array",
            "nullable": true
          },
          "files": {
            "type": "array",
            "nullable": true
          },
          "from": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Search": {
        "type": "object",
        "properties": {
          "result": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Invite": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Ad": {
        "allOf": [
          {
            "$ref": "#/components/schemas/PublicAd"
          },
          {
            "type": "object",
            "description": "An admin representation of the ads displayed on the homepage",
            "additionalProperties": false,
            "properties": {
              "tag": {
                "type": "string",
                "description": "An identifiable name for the ad",
                "example": "National Tournament promotion"
              },
              "sortOrder": {
                "type": "integer",
                "format": "int16",
                "description": "Sort order for display (SMALLINT)",
                "example": 3
              },
              "start": {
                "type": "string",
                "format": "date-time",
                "description": "Start timestamp",
                "example": "2025-01-15T10:00:00Z"
              },
              "end": {
                "type": "string",
                "format": "date-time",
                "description": "End timestamp",
                "example": "2025-01-15T12:00:00Z"
              },
              "approved": {
                "type": "boolean",
                "description": "Whether the item has been approved",
                "example": false
              },
              "background": {
                "type": "string",
                "maxLength": 15,
                "description": "Background identifier or color",
                "example": "blue-gradient"
              },
              "person": {
                "type": "integer",
                "format": "int32",
                "description": "ID of the person who owns the item",
                "example": 42
              },
              "approvedBy": {
                "type": "integer",
                "format": "int32",
                "description": "ID of the person who approved the item",
                "example": 7
              },
              "createdAt": {
                "type": "string",
                "format": "date-time",
                "readOnly": true,
                "description": "Record creation timestamp",
                "example": "2025-01-12T18:20:00Z"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time",
                "readOnly": true,
                "description": "Last updated timestamp",
                "example": "2025-01-12T18:20:00Z"
              }
            }
          }
        ]
      },
      "PublicAd": {
        "type": "object",
        "description": "A public representation of the ads displayed on the homepage",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "number",
            "readOnly": true,
            "description": "the Id of the Ad",
            "example": 1
          },
          "filename": {
            "type": "string",
            "description": "The Image filename",
            "example": "https://someurl.s2.aws.com"
          },
          "url": {
            "type": "string",
            "description": "The link to follow when the ad is clicked",
            "example": "https://www.example.com"
          }
        }
      }
    }
  }
}